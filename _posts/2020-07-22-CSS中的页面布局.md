---
layout: post
title: 'CSS中的页面布局'
date: 2020-07-22 12:26:37 +0800
categories: CSS
---

当学会了如何使用`CSS`的基本样式后，就面临着如何布局这些页面元素。主要有`flex`、`grid`、`float`和`position`，例如不同的`display`可以开启不同的布局方式，这些布局方式是浏览器支持的不用费尽心思去具体的操控，只要明白主要原理在元素属性中明确布局就可以了。

## 针对盒子布局

### 弹性盒子

对于不同尺寸的网页通常会有不兼容的情况发生，用到弹性盒子布局就可以实现了分布和响应式的问题，可以实现行列的对齐。柔性盒子总是会根据页面宽度来调整自己的尺寸，又是加上`wrap`属性还能当页面宽度不足的时候自动滑向下一行来调整。

-   开启弹性盒子

开启非常简单，只需要给外层容器加上一个`display: flex`即可开启子元素的对齐模式，默认**按行**排列。

```css
/* 这里开启的是父盒子来实现子元素的弹性布局 */
div {
    display: flex;
}
```

#### 布局轴

因为`flex`布局时一种在**行的维度**进行排列的布局，那么它的主轴就是横轴。但是也有办法去更改这个设定，因为元素没有指定的话都是根据主轴来排列的。

```css
div {
    flex-direction: column;
}
```

#### 子元素尺寸

对于其中的子元素弹性盒子并不经常采用直接指定像素的方法，那样也稍微违背了这种布局的初衷。弹性盒子的真正价值可以体现在它的响应性，如果调整浏览器窗口的大小，或者增加一个元素，这时的布局仍旧是好的。

```html
<style>
    /* 开启父元素的弹性属性 */
    .selector {
        display: flex;
    }
    .box {
        /* 设定占比均分 */
        flex: 1;
    }
    .box:nth-of-type(3) {
        /* 特殊设定第三个 */
        flex: 2;
    }
</style>

<div class="selector">
    <div class="box">A</div>
    <div class="box">B</div>
    <div class="box">C</div>
</div>
```

经过这样的设定，弹性盒子在主轴上分为四份布局，其中第三个盒子会展其中的两份。

#### 对齐和排序

这些设定关系到了子元素的在父元素盒子中的位置，通过添加`order`属性来进行排列，并且通过设定父元素的属性来确定子元素的对齐方式

> 默认情况下弹性布局的子元素会靠主轴的最左边，有几种`justify-content`改变他们的对其位置

|      参数       |                 描述                 |
| :-------------: | :----------------------------------: |
|  `flex-start`   | 这会使所有`flex`项都位于主轴的开始处 |
|   `flex-end`    |         来让`flex`项到结尾处         |
|    `center`     |     让子元素们居中对齐，挤到中间     |
| `space-around`  |      平分整份空间，两边留有空间      |
| `space-between` |       两端对齐，并且会平分空间       |

> 改变交叉轴方向的布局需要通过另一个参数项`align-items`来改变元素上下分布的情况

|     参数     |                  描述                  |
| :----------: | :------------------------------------: |
| `flex-start` | 这会使所有`flex`项都位于交叉轴的开始处 |
|  `flex-end`  |       来让`flex`项到交叉轴结尾处       |
|   `center`   |             居中显示子元素             |

### 网格布局

和弹性盒子布局不同的是，网格布局是一种**二维布局**结构，它是由纵横相交的两组网格线形成的框架性布局结构。在父元素盒子的属性中可以去定义行、列和间隔为里面的子元素打好网格。

#### 网格尺寸设定

```css
div {
    display: grid;
    grid-template-rows: 100px 100px 100px;
    /* 行和列的尺寸设定 */
    grid-template-columns: 100px 100px 100px;
}
/* 这样生成了一个3*3的网格 */
```

-   简写尺寸

```css
div {
    display: grid;
    grid-template-rows: 100px 100px 100px;
    /* 行和列的尺寸设定 */
    grid-template: 100px 100px 100px / 100px 100px 100px;
}
```

还可以通过这些属性来修改网格格子之间的间隔，比如`grid-row-gap`和`grid-column-gap`分别设置行间距和列间距。

#### 网格对齐

网格的对齐也是在父元素的属性中完成的，和弹性盒子差不多可以让这些网格按一定的对齐方式排列，这里不多说了有很多的属性效果是和`flex`布局相通的，可以参照上面的，不同的是这里**设定的是子元素优先占据那些网格**。

```css
.parent {
    display: grid;
    grid-template: 100px 100px 100px / 100px 100px 100px;
    grid-gap: 10px 10px;
    justify-items: center;
    /* 子元素在行中居中 */
    align-items: center;
    /* 在列中居中 */
}
```

#### 子元素

针对子元素的排布，我们需要给它们指定要摆放的具体位置。要确定具体位置，可以利用之前在父容器中所指定的**线名**来定位。

```css
/* 指定起始行，结束行，起始列，结束列 */
.child:nth-of-type(1) {
    grid-row: 1/2;
    grid-column: 1/3;
}
```

-   子元素在网格中的对齐方式

对齐方式默认是靠左上角的，可以通过`align-self`调整垂直位置，还可以通过`justify-self`来调整水平位置。

|   参数   |         描述         |
| :------: | :------------------: |
| `start`  |  子元素都位于开始处  |
|  `end`   |  子元素都位于结尾处  |
| `center` | 居中对齐其中的子元素 |

---

```html
<style>
    .child:nth-child(1) {
        align-self: end;
    }

    .child:nth-child(2) {
        justify-self: end;
    }

    /* 采用缩写形式 */
    .child:nth-child(3) {
        place-self: center center;
    }
</style>
<!-- 注意这是设置子元素在网格中的对齐，和上面有差别 -->
<div class="parent">
    <div class="child" style="background: red;"></div>
    <div class="child" style="background: yellow;"></div>
    <div class="child" style="background: green;"></div>
</div>
```

## 针对位置布局

以下的布局方式更加倾向于直接对位置进行设定，这里分为了`float`和`position`两种方式。

### 元素浮动

对于页面的元素，普通的排版方式一般是**标准流**通常采用在`PC`端，就是块元素和行元素按顺序排放。`float`属性可以来让元素浮动，让其移动，直到某一个块或者另一个浮动框的边缘。

#### 基本浮动

对于浮动的属性有三个参数`none`、`left`、`right`分别顾名思义就是字面意思。

```css
span {
    float: left;
}
```

-   脱标

浮动的元素会脱离标准流，移动到浮动的位置，这样使得页面的排版本身就有一定的动态性。**浮动的元素就不再保存以前的位置了**。脱离标准流意味着他和界面中的标准流元素不再是相互排版的关系了，就会脱离原来的“图层”。

-   顶端对齐

如果多个盒子都被浮动了，他们的左右会互相挤压，但是对于一行盒子，是**按顶端对齐**的方式来排版的。盒子排不下的时候就会挪动到下一行，这样的排版具有可伸缩性。

-   类行内块元素

浮动之后的元素都会类似于行内块元素的特性。

#### 清除浮动

对于一些父元素包含浮动元素的时候，如果不指定父元素高度就会自动变为`0`，这样是一种不规范的方法。这时候就需要清除浮动来保证父标准流元素的正常。

```css
div {
    clear: both;
    /* 清除靠向两边的浮动 */
    clear: left;
    /* 清除靠向左边的浮动 */
    clear: right;
    /* 清除靠向右边的浮动 */
}
```

有了父元素的限制就可以闭合浮动。有四种方法可以使用让父元素限制浮动子元素的移动。

> 额外标签法

在浮动元素的最后加入一个额外的标签用于限制浮动元素。

```html
<div class="box">
    <div class="float"></div>
    <div class="float"></div>
    <div class="clear">
        <!-- 这个空元素就是起限制作用 -->
    </div>
</div>
```

对应的`CSS`文件如下，清除浮动的元素在最后**无视前面的浮动视为标准流**，但又不影响前面元素的浮动。

```css
.float {
    float: left;
}
.clear {
    clear: both;
    /*一 般都用这个both参数来使用 */
}
```

#### 定位

定位允许从正常的文档流布局中取出元素，并使它们具有不同的行为，例如放在另一个元素的上面，或者始终保持在浏览器视窗内的同一位置。这个特性和浮动有些相似，可以把元素从**标准流中提取出来单独设定排列**。

#### 相对定位

给元素加上相对定位的属性并且用一些坐标信息，而且该元素已经脱离了标准布局流，它可以和其他元素重叠。

> 相对定位相对于原来的位置移动的

```css
div {
    position: relative;
    /* 从上向下推 */
    top: 30px;
    /* 从左向右推 */
    left: 30px;
}
```

虽然它已经脱离了标准流，但是它所占的空间还是会**虚位以待**的为它保留，不影响其他标准流的元素的布局。

#### 绝对定位

> 绝对定位是相对于整个浏览器窗口

和相对定位不同，被定位的元素将完全的脱离，它原来的位置将在文档中被**清除**其他的文档元素继续正常排列。

```css
div {
    position: absolute;
    /* 从上向下推 */
    top: 30px;
    /* 从左向右推 */
    left: 30px;
}
```
